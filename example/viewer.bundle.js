/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./example/viewer.js":
/*!***************************!*\
  !*** ./example/viewer.js ***!
  \***************************/
/***/ (() => {

eval("/*import TokenSimulationModule from '../lib/viewer';\n\nimport BpmnViewer from 'bpmn-js/lib/NavigatedViewer';\n\nimport fileDrop from 'file-drops';\n\nimport fileOpen from 'file-open';\n\nimport exampleXML from '../example/resources/example.bpmn';\n\n\nconst url = new URL(window.location.href);\n\nconst persistent = url.searchParams.has('p');\nconst active = url.searchParams.has('e');\nconst presentationMode = url.searchParams.has('pm');\n\nconst initialDiagram = (() => {\n  try {\n    return persistent && localStorage['diagram-xml'] || exampleXML;\n  } catch (err) {\n    return exampleXML;\n  }\n})();\n\nfunction hideMessage() {\n  const dropMessage = document.querySelector('.drop-message');\n\n  dropMessage.style.display = 'none';\n}\n\nfunction showMessage(cls, message) {\n  const messageEl = document.querySelector('.drop-message');\n\n  messageEl.textContent = message;\n  messageEl.className = `drop-message ${cls || ''}`;\n\n  messageEl.style.display = 'block';\n}\n\nif (persistent) {\n  hideMessage();\n}\n\nconst ExampleModule = {\n  __init__: [\n    [ 'eventBus', 'bpmnjs', 'toggleMode', function(eventBus, bpmnjs, toggleMode) {\n\n      if (persistent) {\n        eventBus.on('commandStack.changed', function() {\n          bpmnjs.saveXML().then(result => {\n            localStorage['diagram-xml'] = result.xml;\n          });\n        });\n      }\n\n      if ('history' in window) {\n        eventBus.on('tokenSimulation.toggleMode', event => {\n\n          if (event.active) {\n            url.searchParams.set('e', '1');\n          } else {\n            url.searchParams.delete('e');\n          }\n\n          history.replaceState({}, document.title, url.toString());\n        });\n      }\n\n      eventBus.on('diagram.init', 500, () => {\n        toggleMode.toggleMode(active);\n      });\n    } ]\n  ]\n};\n\nconst viewer = new BpmnViewer({\n  container: '#canvas',\n  additionalModules: [\n    ExampleModule,\n    TokenSimulationModule\n  ],\n  keyboard: {\n    bindTo: document\n  }\n});\n\nfunction openDiagram(diagram) {\n  return viewer.importXML(diagram)\n    .then(({ warnings }) => {\n      if (warnings.length) {\n        console.warn(warnings);\n      }\n\n      if (persistent) {\n        localStorage['diagram-xml'] = diagram;\n      }\n\n      viewer.get('canvas').zoom('fit-viewport');\n    })\n    .catch(err => {\n      console.error(err);\n    });\n}\n\nif (presentationMode) {\n  document.body.classList.add('presentation-mode');\n}\n\nfunction openFile(files) {\n\n  // files = [ { name, contents }, ... ]\n\n  if (!files.length) {\n    return;\n  }\n\n  hideMessage();\n\n  openDiagram(files[0].contents);\n}\n\ndocument.body.addEventListener('dragover', fileDrop('Open BPMN diagram', openFile), false);\n\ndocument.body.addEventListener('keydown', function(event) {\n  if (event.code === 'KeyO' && (event.metaKey || event.ctrlKey)) {\n    event.preventDefault();\n\n    fileOpen().then(openFile);\n  }\n});\n\n\nconst remoteDiagram = url.searchParams.get('diagram');\n\nif (remoteDiagram) {\n  fetch(remoteDiagram).then(\n    r => {\n      if (r.ok) {\n        return r.text();\n      }\n\n      throw new Error(`Status ${r.status}`);\n    }\n  ).then(\n    text => openDiagram(text)\n  ).catch(\n    err => {\n      showMessage('error', `Failed to open remote diagram: ${err.message}`);\n\n      openDiagram(initialDiagram);\n    }\n  );\n} else {\n  openDiagram(initialDiagram);\n}*///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlL3ZpZXdlci5qcy5qcyIsIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsid2VicGFjazovL3NwYWNlYnBtbi8uL2V4YW1wbGUvdmlld2VyLmpzPzQ2YTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyppbXBvcnQgVG9rZW5TaW11bGF0aW9uTW9kdWxlIGZyb20gJy4uL2xpYi92aWV3ZXInO1xuXG5pbXBvcnQgQnBtblZpZXdlciBmcm9tICdicG1uLWpzL2xpYi9OYXZpZ2F0ZWRWaWV3ZXInO1xuXG5pbXBvcnQgZmlsZURyb3AgZnJvbSAnZmlsZS1kcm9wcyc7XG5cbmltcG9ydCBmaWxlT3BlbiBmcm9tICdmaWxlLW9wZW4nO1xuXG5pbXBvcnQgZXhhbXBsZVhNTCBmcm9tICcuLi9leGFtcGxlL3Jlc291cmNlcy9leGFtcGxlLmJwbW4nO1xuXG5cbmNvbnN0IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuXG5jb25zdCBwZXJzaXN0ZW50ID0gdXJsLnNlYXJjaFBhcmFtcy5oYXMoJ3AnKTtcbmNvbnN0IGFjdGl2ZSA9IHVybC5zZWFyY2hQYXJhbXMuaGFzKCdlJyk7XG5jb25zdCBwcmVzZW50YXRpb25Nb2RlID0gdXJsLnNlYXJjaFBhcmFtcy5oYXMoJ3BtJyk7XG5cbmNvbnN0IGluaXRpYWxEaWFncmFtID0gKCgpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gcGVyc2lzdGVudCAmJiBsb2NhbFN0b3JhZ2VbJ2RpYWdyYW0teG1sJ10gfHwgZXhhbXBsZVhNTDtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGV4YW1wbGVYTUw7XG4gIH1cbn0pKCk7XG5cbmZ1bmN0aW9uIGhpZGVNZXNzYWdlKCkge1xuICBjb25zdCBkcm9wTWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wLW1lc3NhZ2UnKTtcblxuICBkcm9wTWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufVxuXG5mdW5jdGlvbiBzaG93TWVzc2FnZShjbHMsIG1lc3NhZ2UpIHtcbiAgY29uc3QgbWVzc2FnZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRyb3AtbWVzc2FnZScpO1xuXG4gIG1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gIG1lc3NhZ2VFbC5jbGFzc05hbWUgPSBgZHJvcC1tZXNzYWdlICR7Y2xzIHx8ICcnfWA7XG5cbiAgbWVzc2FnZUVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufVxuXG5pZiAocGVyc2lzdGVudCkge1xuICBoaWRlTWVzc2FnZSgpO1xufVxuXG5jb25zdCBFeGFtcGxlTW9kdWxlID0ge1xuICBfX2luaXRfXzogW1xuICAgIFsgJ2V2ZW50QnVzJywgJ2JwbW5qcycsICd0b2dnbGVNb2RlJywgZnVuY3Rpb24oZXZlbnRCdXMsIGJwbW5qcywgdG9nZ2xlTW9kZSkge1xuXG4gICAgICBpZiAocGVyc2lzdGVudCkge1xuICAgICAgICBldmVudEJ1cy5vbignY29tbWFuZFN0YWNrLmNoYW5nZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBicG1uanMuc2F2ZVhNTCgpLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVsnZGlhZ3JhbS14bWwnXSA9IHJlc3VsdC54bWw7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoJ2hpc3RvcnknIGluIHdpbmRvdykge1xuICAgICAgICBldmVudEJ1cy5vbigndG9rZW5TaW11bGF0aW9uLnRvZ2dsZU1vZGUnLCBldmVudCA9PiB7XG5cbiAgICAgICAgICBpZiAoZXZlbnQuYWN0aXZlKSB7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnZScsICcxJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKCdlJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIGRvY3VtZW50LnRpdGxlLCB1cmwudG9TdHJpbmcoKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBldmVudEJ1cy5vbignZGlhZ3JhbS5pbml0JywgNTAwLCAoKSA9PiB7XG4gICAgICAgIHRvZ2dsZU1vZGUudG9nZ2xlTW9kZShhY3RpdmUpO1xuICAgICAgfSk7XG4gICAgfSBdXG4gIF1cbn07XG5cbmNvbnN0IHZpZXdlciA9IG5ldyBCcG1uVmlld2VyKHtcbiAgY29udGFpbmVyOiAnI2NhbnZhcycsXG4gIGFkZGl0aW9uYWxNb2R1bGVzOiBbXG4gICAgRXhhbXBsZU1vZHVsZSxcbiAgICBUb2tlblNpbXVsYXRpb25Nb2R1bGVcbiAgXSxcbiAga2V5Ym9hcmQ6IHtcbiAgICBiaW5kVG86IGRvY3VtZW50XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBvcGVuRGlhZ3JhbShkaWFncmFtKSB7XG4gIHJldHVybiB2aWV3ZXIuaW1wb3J0WE1MKGRpYWdyYW0pXG4gICAgLnRoZW4oKHsgd2FybmluZ3MgfSkgPT4ge1xuICAgICAgaWYgKHdhcm5pbmdzLmxlbmd0aCkge1xuICAgICAgICBjb25zb2xlLndhcm4od2FybmluZ3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAocGVyc2lzdGVudCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2VbJ2RpYWdyYW0teG1sJ10gPSBkaWFncmFtO1xuICAgICAgfVxuXG4gICAgICB2aWV3ZXIuZ2V0KCdjYW52YXMnKS56b29tKCdmaXQtdmlld3BvcnQnKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH0pO1xufVxuXG5pZiAocHJlc2VudGF0aW9uTW9kZSkge1xuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoJ3ByZXNlbnRhdGlvbi1tb2RlJyk7XG59XG5cbmZ1bmN0aW9uIG9wZW5GaWxlKGZpbGVzKSB7XG5cbiAgLy8gZmlsZXMgPSBbIHsgbmFtZSwgY29udGVudHMgfSwgLi4uIF1cblxuICBpZiAoIWZpbGVzLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGhpZGVNZXNzYWdlKCk7XG5cbiAgb3BlbkRpYWdyYW0oZmlsZXNbMF0uY29udGVudHMpO1xufVxuXG5kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZmlsZURyb3AoJ09wZW4gQlBNTiBkaWFncmFtJywgb3BlbkZpbGUpLCBmYWxzZSk7XG5cbmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gIGlmIChldmVudC5jb2RlID09PSAnS2V5TycgJiYgKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSkpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgZmlsZU9wZW4oKS50aGVuKG9wZW5GaWxlKTtcbiAgfVxufSk7XG5cblxuY29uc3QgcmVtb3RlRGlhZ3JhbSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCdkaWFncmFtJyk7XG5cbmlmIChyZW1vdGVEaWFncmFtKSB7XG4gIGZldGNoKHJlbW90ZURpYWdyYW0pLnRoZW4oXG4gICAgciA9PiB7XG4gICAgICBpZiAoci5vaykge1xuICAgICAgICByZXR1cm4gci50ZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihgU3RhdHVzICR7ci5zdGF0dXN9YCk7XG4gICAgfVxuICApLnRoZW4oXG4gICAgdGV4dCA9PiBvcGVuRGlhZ3JhbSh0ZXh0KVxuICApLmNhdGNoKFxuICAgIGVyciA9PiB7XG4gICAgICBzaG93TWVzc2FnZSgnZXJyb3InLCBgRmFpbGVkIHRvIG9wZW4gcmVtb3RlIGRpYWdyYW06ICR7ZXJyLm1lc3NhZ2V9YCk7XG5cbiAgICAgIG9wZW5EaWFncmFtKGluaXRpYWxEaWFncmFtKTtcbiAgICB9XG4gICk7XG59IGVsc2Uge1xuICBvcGVuRGlhZ3JhbShpbml0aWFsRGlhZ3JhbSk7XG59Ki8iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSJ9\n//# sourceURL=webpack-internal:///./example/viewer.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./example/viewer.js"]();
/******/ 	
/******/ })()
;