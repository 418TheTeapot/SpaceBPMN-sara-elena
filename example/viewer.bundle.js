/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./example/viewer.js":
/*!***************************!*\
  !*** ./example/viewer.js ***!
  \***************************/
/***/ (() => {

eval("/*import TokenSimulationModule from '../lib/viewer';\r\n\r\nimport BpmnViewer from 'bpmn-js/lib/NavigatedViewer';\r\n\r\nimport fileDrop from 'file-drops';\r\n\r\nimport fileOpen from 'file-open';\r\n\r\nimport exampleXML from '../example/resources/example.bpmn';\r\n\r\n\r\nconst url = new URL(window.location.href);\r\n\r\nconst persistent = url.searchParams.has('p');\r\nconst active = url.searchParams.has('e');\r\nconst presentationMode = url.searchParams.has('pm');\r\n\r\nconst initialDiagram = (() => {\r\n  try {\r\n    return persistent && localStorage['diagram-xml'] || exampleXML;\r\n  } catch (err) {\r\n    return exampleXML;\r\n  }\r\n})();\r\n\r\nfunction hideMessage() {\r\n  const dropMessage = document.querySelector('.drop-message');\r\n\r\n  dropMessage.style.display = 'none';\r\n}\r\n\r\nfunction showMessage(cls, message) {\r\n  const messageEl = document.querySelector('.drop-message');\r\n\r\n  messageEl.textContent = message;\r\n  messageEl.className = `drop-message ${cls || ''}`;\r\n\r\n  messageEl.style.display = 'block';\r\n}\r\n\r\nif (persistent) {\r\n  hideMessage();\r\n}\r\n\r\nconst ExampleModule = {\r\n  __init__: [\r\n    [ 'eventBus', 'bpmnjs', 'toggleMode', function(eventBus, bpmnjs, toggleMode) {\r\n\r\n      if (persistent) {\r\n        eventBus.on('commandStack.changed', function() {\r\n          bpmnjs.saveXML().then(result => {\r\n            localStorage['diagram-xml'] = result.xml;\r\n          });\r\n        });\r\n      }\r\n\r\n      if ('history' in window) {\r\n        eventBus.on('tokenSimulation.toggleMode', event => {\r\n\r\n          if (event.active) {\r\n            url.searchParams.set('e', '1');\r\n          } else {\r\n            url.searchParams.delete('e');\r\n          }\r\n\r\n          history.replaceState({}, document.title, url.toString());\r\n        });\r\n      }\r\n\r\n      eventBus.on('diagram.init', 500, () => {\r\n        toggleMode.toggleMode(active);\r\n      });\r\n    } ]\r\n  ]\r\n};\r\n\r\nconst viewer = new BpmnViewer({\r\n  container: '#canvas',\r\n  additionalModules: [\r\n    ExampleModule,\r\n    TokenSimulationModule\r\n  ],\r\n  keyboard: {\r\n    bindTo: document\r\n  }\r\n});\r\n\r\nfunction openDiagram(diagram) {\r\n  return viewer.importXML(diagram)\r\n    .then(({ warnings }) => {\r\n      if (warnings.length) {\r\n        console.warn(warnings);\r\n      }\r\n\r\n      if (persistent) {\r\n        localStorage['diagram-xml'] = diagram;\r\n      }\r\n\r\n      viewer.get('canvas').zoom('fit-viewport');\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n    });\r\n}\r\n\r\nif (presentationMode) {\r\n  document.body.classList.add('presentation-mode');\r\n}\r\n\r\nfunction openFile(files) {\r\n\r\n  // files = [ { name, contents }, ... ]\r\n\r\n  if (!files.length) {\r\n    return;\r\n  }\r\n\r\n  hideMessage();\r\n\r\n  openDiagram(files[0].contents);\r\n}\r\n\r\ndocument.body.addEventListener('dragover', fileDrop('Open BPMN diagram', openFile), false);\r\n\r\ndocument.body.addEventListener('keydown', function(event) {\r\n  if (event.code === 'KeyO' && (event.metaKey || event.ctrlKey)) {\r\n    event.preventDefault();\r\n\r\n    fileOpen().then(openFile);\r\n  }\r\n});\r\n\r\n\r\nconst remoteDiagram = url.searchParams.get('diagram');\r\n\r\nif (remoteDiagram) {\r\n  fetch(remoteDiagram).then(\r\n    r => {\r\n      if (r.ok) {\r\n        return r.text();\r\n      }\r\n\r\n      throw new Error(`Status ${r.status}`);\r\n    }\r\n  ).then(\r\n    text => openDiagram(text)\r\n  ).catch(\r\n    err => {\r\n      showMessage('error', `Failed to open remote diagram: ${err.message}`);\r\n\r\n      openDiagram(initialDiagram);\r\n    }\r\n  );\r\n} else {\r\n  openDiagram(initialDiagram);\r\n}*///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leGFtcGxlL3ZpZXdlci5qcyIsIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsid2VicGFjazovL3NwYWNlYnBtbi8uL2V4YW1wbGUvdmlld2VyLmpzPzQ2YTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyppbXBvcnQgVG9rZW5TaW11bGF0aW9uTW9kdWxlIGZyb20gJy4uL2xpYi92aWV3ZXInO1xyXG5cclxuaW1wb3J0IEJwbW5WaWV3ZXIgZnJvbSAnYnBtbi1qcy9saWIvTmF2aWdhdGVkVmlld2VyJztcclxuXHJcbmltcG9ydCBmaWxlRHJvcCBmcm9tICdmaWxlLWRyb3BzJztcclxuXHJcbmltcG9ydCBmaWxlT3BlbiBmcm9tICdmaWxlLW9wZW4nO1xyXG5cclxuaW1wb3J0IGV4YW1wbGVYTUwgZnJvbSAnLi4vZXhhbXBsZS9yZXNvdXJjZXMvZXhhbXBsZS5icG1uJztcclxuXHJcblxyXG5jb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuXHJcbmNvbnN0IHBlcnNpc3RlbnQgPSB1cmwuc2VhcmNoUGFyYW1zLmhhcygncCcpO1xyXG5jb25zdCBhY3RpdmUgPSB1cmwuc2VhcmNoUGFyYW1zLmhhcygnZScpO1xyXG5jb25zdCBwcmVzZW50YXRpb25Nb2RlID0gdXJsLnNlYXJjaFBhcmFtcy5oYXMoJ3BtJyk7XHJcblxyXG5jb25zdCBpbml0aWFsRGlhZ3JhbSA9ICgoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBwZXJzaXN0ZW50ICYmIGxvY2FsU3RvcmFnZVsnZGlhZ3JhbS14bWwnXSB8fCBleGFtcGxlWE1MO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIGV4YW1wbGVYTUw7XHJcbiAgfVxyXG59KSgpO1xyXG5cclxuZnVuY3Rpb24gaGlkZU1lc3NhZ2UoKSB7XHJcbiAgY29uc3QgZHJvcE1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZHJvcC1tZXNzYWdlJyk7XHJcblxyXG4gIGRyb3BNZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dNZXNzYWdlKGNscywgbWVzc2FnZSkge1xyXG4gIGNvbnN0IG1lc3NhZ2VFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kcm9wLW1lc3NhZ2UnKTtcclxuXHJcbiAgbWVzc2FnZUVsLnRleHRDb250ZW50ID0gbWVzc2FnZTtcclxuICBtZXNzYWdlRWwuY2xhc3NOYW1lID0gYGRyb3AtbWVzc2FnZSAke2NscyB8fCAnJ31gO1xyXG5cclxuICBtZXNzYWdlRWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbn1cclxuXHJcbmlmIChwZXJzaXN0ZW50KSB7XHJcbiAgaGlkZU1lc3NhZ2UoKTtcclxufVxyXG5cclxuY29uc3QgRXhhbXBsZU1vZHVsZSA9IHtcclxuICBfX2luaXRfXzogW1xyXG4gICAgWyAnZXZlbnRCdXMnLCAnYnBtbmpzJywgJ3RvZ2dsZU1vZGUnLCBmdW5jdGlvbihldmVudEJ1cywgYnBtbmpzLCB0b2dnbGVNb2RlKSB7XHJcblxyXG4gICAgICBpZiAocGVyc2lzdGVudCkge1xyXG4gICAgICAgIGV2ZW50QnVzLm9uKCdjb21tYW5kU3RhY2suY2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgYnBtbmpzLnNhdmVYTUwoKS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZVsnZGlhZ3JhbS14bWwnXSA9IHJlc3VsdC54bWw7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCdoaXN0b3J5JyBpbiB3aW5kb3cpIHtcclxuICAgICAgICBldmVudEJ1cy5vbigndG9rZW5TaW11bGF0aW9uLnRvZ2dsZU1vZGUnLCBldmVudCA9PiB7XHJcblxyXG4gICAgICAgICAgaWYgKGV2ZW50LmFjdGl2ZSkge1xyXG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnZScsICcxJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZSgnZScpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBkb2N1bWVudC50aXRsZSwgdXJsLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBldmVudEJ1cy5vbignZGlhZ3JhbS5pbml0JywgNTAwLCAoKSA9PiB7XHJcbiAgICAgICAgdG9nZ2xlTW9kZS50b2dnbGVNb2RlKGFjdGl2ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBdXHJcbiAgXVxyXG59O1xyXG5cclxuY29uc3Qgdmlld2VyID0gbmV3IEJwbW5WaWV3ZXIoe1xyXG4gIGNvbnRhaW5lcjogJyNjYW52YXMnLFxyXG4gIGFkZGl0aW9uYWxNb2R1bGVzOiBbXHJcbiAgICBFeGFtcGxlTW9kdWxlLFxyXG4gICAgVG9rZW5TaW11bGF0aW9uTW9kdWxlXHJcbiAgXSxcclxuICBrZXlib2FyZDoge1xyXG4gICAgYmluZFRvOiBkb2N1bWVudFxyXG4gIH1cclxufSk7XHJcblxyXG5mdW5jdGlvbiBvcGVuRGlhZ3JhbShkaWFncmFtKSB7XHJcbiAgcmV0dXJuIHZpZXdlci5pbXBvcnRYTUwoZGlhZ3JhbSlcclxuICAgIC50aGVuKCh7IHdhcm5pbmdzIH0pID0+IHtcclxuICAgICAgaWYgKHdhcm5pbmdzLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybih3YXJuaW5ncyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwZXJzaXN0ZW50KSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlWydkaWFncmFtLXhtbCddID0gZGlhZ3JhbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmlld2VyLmdldCgnY2FudmFzJykuem9vbSgnZml0LXZpZXdwb3J0Jyk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5pZiAocHJlc2VudGF0aW9uTW9kZSkge1xyXG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgncHJlc2VudGF0aW9uLW1vZGUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3BlbkZpbGUoZmlsZXMpIHtcclxuXHJcbiAgLy8gZmlsZXMgPSBbIHsgbmFtZSwgY29udGVudHMgfSwgLi4uIF1cclxuXHJcbiAgaWYgKCFmaWxlcy5sZW5ndGgpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGhpZGVNZXNzYWdlKCk7XHJcblxyXG4gIG9wZW5EaWFncmFtKGZpbGVzWzBdLmNvbnRlbnRzKTtcclxufVxyXG5cclxuZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGZpbGVEcm9wKCdPcGVuIEJQTU4gZGlhZ3JhbScsIG9wZW5GaWxlKSwgZmFsc2UpO1xyXG5cclxuZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuICBpZiAoZXZlbnQuY29kZSA9PT0gJ0tleU8nICYmIChldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXkpKSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGZpbGVPcGVuKCkudGhlbihvcGVuRmlsZSk7XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG5jb25zdCByZW1vdGVEaWFncmFtID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ2RpYWdyYW0nKTtcclxuXHJcbmlmIChyZW1vdGVEaWFncmFtKSB7XHJcbiAgZmV0Y2gocmVtb3RlRGlhZ3JhbSkudGhlbihcclxuICAgIHIgPT4ge1xyXG4gICAgICBpZiAoci5vaykge1xyXG4gICAgICAgIHJldHVybiByLnRleHQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdGF0dXMgJHtyLnN0YXR1c31gKTtcclxuICAgIH1cclxuICApLnRoZW4oXHJcbiAgICB0ZXh0ID0+IG9wZW5EaWFncmFtKHRleHQpXHJcbiAgKS5jYXRjaChcclxuICAgIGVyciA9PiB7XHJcbiAgICAgIHNob3dNZXNzYWdlKCdlcnJvcicsIGBGYWlsZWQgdG8gb3BlbiByZW1vdGUgZGlhZ3JhbTogJHtlcnIubWVzc2FnZX1gKTtcclxuXHJcbiAgICAgIG9wZW5EaWFncmFtKGluaXRpYWxEaWFncmFtKTtcclxuICAgIH1cclxuICApO1xyXG59IGVsc2Uge1xyXG4gIG9wZW5EaWFncmFtKGluaXRpYWxEaWFncmFtKTtcclxufSovIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EifQ==\n//# sourceURL=webpack-internal:///./example/viewer.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./example/viewer.js"]();
/******/ 	
/******/ })()
;